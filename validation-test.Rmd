---
title: "Untitled"
output: html_document
date: "`r Sys.Date()`"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

```{r}
library(tidyverse)
source("class-definitions.R")
source("validation.R")
```

```{r}
series <- list()
for (i in seq_len(50)) {
  series[[i]] <- new(
    "ts_inter_single", 
    values = matrix(rnorm(20), 2, 10), 
    time = 1:10, 
    interventions = matrix(c(0, 1), 1, 5)
  )
}

obj <- new("ts_inter", series = series)
length(obj)
obj[1:2]
```

```{r}
fit <- train(obj)
y_hat <- predict(fit, newdata = obj)
cross_validate(obj, train)$metrics
```
