---
title: "dlm"
output: html_document
date: "`r Sys.Date()`"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

```{r}
source("dlm.R")
interventions <- matrix(0, 2, 50)
interventions[1, c(3:4)] <- 1
interventions[2, c(20:25)] <- 1
res <- dlm(interventions, dlm_params(Q = 4))

plot(res$x[1, ])
plot(res$x[2, ])
plot(res$x[3, ])

res <- dlm_ensemble(interventions)
plot(res$x[[1]]@values[1, ])
plot(res$x[[1]]@values[2, ])

heatmap(res$x[[1]]@values)
heatmap(res$x[[2]]@values)
```